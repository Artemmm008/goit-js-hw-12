{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"53393653-1acdc9704f6308d207f4a2045\"; \nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function getImagesByQuery(query) {\n    \n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    };\n\n    return axios.get(BASE_URL, { params })\n        .then(response => {\n            return response.data;\n        });\n}\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\")\nconst loaderOverlay = document.getElementById(\"loader-overlay\"); \n\nfunction createMarkup(image) {\n    return `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\"> \n                <img src=\"${image.webformatURL}\" \n                     alt=\"${image.tags}\" \n                     class=\"gallery-image\">\n            </a>\n        <div class=\"info\">\n            <p class=\"info-item\"><b>Likes</b>${image.likes}</p>\n            <p class=\"info-item\"><b>Views</b>${image.views}</p>\n            <p class=\"info-item\"><b>Comments</b>${image.comments}</p>\n            <p class=\"info-item\"><b>Downloads</b>${image.downloads}</p>\n        </div>\n    </li>\n    `;\n}\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captionsData: 'alt', \n    captionDelay: 250,\n});\n\n\nexport function createGallery(images) {\n    const markup = images.map(createMarkup).join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n}\n\n\nexport function clearGallery() {\n    gallery.innerHTML = '';\n}\n\nexport function showLoader() {\n    if (loaderOverlay) {\n        loaderOverlay.classList.remove('hidden');\n    }\n}\n\nexport function hideLoader() {\n    if (loaderOverlay) {\n        loaderOverlay.classList.add('hidden');\n    }\n}","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst input = form.elements.query;\n\nhideLoader();\n\nform.addEventListener(\"submit\", e => {\n    e.preventDefault();\n    const query = input.value.trim();\n\n    if (!query) {\n        iziToast.warning({\n            message: \"Please enter a search term!\",\n            position: \"topRight\",\n        });\n        return;\n    }\n\n    showLoader();\n    clearGallery();\n\n    getImagesByQuery(query)\n    .then(data => {\n        const hits = data.hits; \n\n        if (hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\",\n            });\n        } else {\n            createGallery(hits);\n        }\n        \n        hideLoader(); \n        form.reset();\n    })\n    .catch(error => {\n        iziToast.error({\n            message: \"Error\",\n            position: \"topRight\",\n        });\n        console.error(error);\n        \n        hideLoader();\n        form.reset();\n    });\n})"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","axios","response","gallery","loaderOverlay","createMarkup","image","lightbox","SimpleLightbox","createGallery","images","markup","clearGallery","showLoader","hideLoader","form","input","e","iziToast","data","hits","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CAEpC,MAAMC,EAAS,CACX,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,EAEI,OAAOE,EAAM,IAAIJ,EAAU,CAAE,OAAAG,CAAM,CAAE,EAChC,KAAKE,GACKA,EAAS,IACnB,CACT,CChBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAgB,SAAS,eAAe,gBAAgB,EAE9D,SAASC,EAAaC,EAAO,CACzB,MAAO;AAAA;AAAA,uBAEYA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY;AAAA,4BAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,+CAISA,EAAM,KAAK;AAAA,+CACXA,EAAM,KAAK;AAAA,kDACRA,EAAM,QAAQ;AAAA,mDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAIlE,CAEA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAGM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIL,CAAY,EAAE,KAAK,EAAE,EAC/CF,EAAQ,mBAAmB,YAAaQ,CAAM,EAE9CJ,EAAS,QAAO,CACpB,CAGO,SAASK,GAAe,CAC3BT,EAAQ,UAAY,EACxB,CAEO,SAASU,GAAa,CACrBT,GACAA,EAAc,UAAU,OAAO,QAAQ,CAE/C,CAEO,SAASU,GAAa,CACrBV,GACAA,EAAc,UAAU,IAAI,QAAQ,CAE5C,CC9CA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,MAE5BD,EAAU,EAEVC,EAAK,iBAAiB,SAAUE,GAAK,CACjCA,EAAE,eAAc,EAChB,MAAMlB,EAAQiB,EAAM,MAAM,KAAI,EAE9B,GAAI,CAACjB,EAAO,CACRmB,EAAS,QAAQ,CACb,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACJ,CAEAL,EAAU,EACVD,EAAY,EAEZd,EAAiBC,CAAK,EACrB,KAAKoB,GAAQ,CACV,MAAMC,EAAOD,EAAK,KAEdC,EAAK,SAAW,EAChBF,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,EAEDT,EAAcW,CAAI,EAGtBN,IACAC,EAAK,MAAK,CACd,CAAC,EACA,MAAMM,GAAS,CACZH,EAAS,MAAM,CACX,QAAS,QACT,SAAU,UACtB,CAAS,EACD,QAAQ,MAAMG,CAAK,EAEnBP,EAAU,EACVC,EAAK,MAAK,CACd,CAAC,CACL,CAAC"}